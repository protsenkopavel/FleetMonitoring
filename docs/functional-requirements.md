Техническое задание для проекта «Мониторинг автопарка»

1. Описание проекта
   Разработать систему мониторинга автопарка, где все данные генерируются локально с использованием дата-генератора и имитируют работу транспортных средств в реальном времени. Система должна позволять задавать основные входные параметры и в дальнейшем «оживлять» машины: параметры будут изменяться в реальном времени с последующей отправкой данных в Kafka для обработки и мониторинга.

2. Входные данные и моделируемые параметры
   2.1. Основные параметры, задаваемые пользователем
   Количество машин
   Максимальный радиус в км от исходных координат
   Порог топлива при котором генерируется сигнализация о низком уровне топлива
   Порог давления в шинах, при падении которого срабатывает предупреждение

2.2 Дополнительные параметры, моделируемые для каждого автомобиля
GPS-координаты
Скорость движения
Уровень топлива
Давление в шинах
Температура двигателя
Пробег
Время работы двигателя
Статус дверей: открыта/закрыта
Данные о срабатывании подушек безопасности
Данные с камеры заднего вида?

3. Компоненты системы
   3.1. Микросервис UI
   Функциональность: веб-интерфейс, позволяющий задать входные параметры.

3.2. Микросервис Data Generator
Функциональность: генерация начальных данных по машинам на основании введенных параметров.
Формирование начальных позиций, значений пробега, уровня топлива, давления в шинах и т.д. по списку выше.
Регистрация авто в бд с транзакциями (idempotent producer/consumer) для исключения дублирования авто в системе

3.3. Микросервис Real time simulator
Функциональность: моделирование динамических изменений параметров в реальном времени.
Генерация событий с периодическим изменением значений (изменение координат, колебания уровня топлива, изменений давления, пробега и т.д.).
Генерация событий аварийного типа (срабатывание подушек безопасности, критическое значение с камеры заднего вида).
Какой алгоритм? че делать то

3.4. Kafka-кластер
Продюсер: Микросервис-симулятор будет выступать в роли продюсера, отправляющего данные в соответствующие топики Kafka.
Каждая категория датчиков может иметь отдельный топик или объединяться в один event для каждой машины.

Кластер Kafka: конфиг с балансировкой (кубер?) Использование репликации для повышения отказоустойчивости.
Консьюмеры: Сервис мониторинга, который будет подписываться на топики и обрабатывать события, писать в прометеус.

3.5. Сервис мониторинга
Функциональность: обработка и визуализация данных в реальном времени.
Отображение критических событий
Построение дашбордов с использованием grafana.

4. Технические детали
   Механизм генерации: многопоточка
   Алгоритм имитации жизни: ?
   Масштабирование: ?
   Нагрузочное тестирование
